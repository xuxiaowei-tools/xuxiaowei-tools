{"version":3,"file":"index.e7738cf8.js","sources":["../../src/views/timestamp/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"ma max-w-960px px-30px py-30px mt-50px\">\r\n    <!-- 时间戳转时间 -->\r\n    <div class=\"flex justify-center lh-30px color-#333\">\r\n      <div class=\"w-80px block text-right\"><span>时间戳：</span></div>\r\n      <el-input v-model=\"inputValue\" :oninput=\"inputValue = inputNum(inputValue)\" class=\"flex-1\">\r\n        <template #append>\r\n          <el-select v-model=\"typeValue\" placeholder=\"Select\" style=\"width: 80px\">\r\n            <el-option label=\"毫秒\" value=\"1\" />\r\n            <el-option label=\"秒\" value=\"2\" />\r\n          </el-select>\r\n        </template>\r\n      </el-input>\r\n      <el-button @click=\"changeStr\" class=\"mx-10px\">转换</el-button>\r\n      <el-input v-model=\"outPutValue\" class=\"flex-1\"></el-input>\r\n    </div>\r\n\r\n    <!-- 时间转时间戳 -->\r\n    <div class=\"flex justify-center lh-30px color-#333 mt-30px\">\r\n      <div class=\"w-80px block text-right\"><span>时间：</span></div>\r\n      <el-input v-model=\"timeInput\" class=\"flex-1\">\r\n        <template #append>\r\n          <el-button @click=\"getNow\">现在</el-button>\r\n        </template>\r\n      </el-input>\r\n      <el-button @click=\"changeStamp\" class=\"mx-10px\">转换</el-button>\r\n      <el-input v-model=\"outPutStamp\" class=\"flex-1\">\r\n        <template #append>\r\n          <el-select v-model=\"stampTypeValue\" placeholder=\"Select\" style=\"width: 80px\">\r\n            <el-option label=\"毫秒\" value=\"1\" />\r\n            <el-option label=\"秒\" value=\"2\" />\r\n          </el-select>\r\n        </template>\r\n      </el-input>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport { ref } from 'vue'\r\n\r\n/**\r\n * 时间戳转时间\r\n */\r\nconst change = (val: number) => {\r\n  const n = new Date(val)\r\n  const now = new Date(n)\r\n  const y = now.getFullYear()\r\n  const m = now.getMonth() + 1\r\n  const d = now.getDate()\r\n  return y + '-' + (m < 10 ? '0' + m : m) + '-' + (d < 10 ? '0' + d : d) + ' ' + now.toTimeString().slice(0, 8)\r\n}\r\nconst inputValue = ref<string | undefined | null>(null)\r\nconst outPutValue = ref<string>('')\r\nconst typeValue = ref<string>('1')\r\nconst changeStr = () => {\r\n  let stamp: any = ''\r\n  typeValue.value === '1' ? stamp = inputValue.value : stamp = inputValue.value + '000'\r\n  if (stamp?.length && stamp?.length > 16) {\r\n    outPutValue.value = '输入的时间戳太长了'\r\n    return\r\n  }\r\n  outPutValue.value = change(parseInt(stamp))\r\n}\r\n\r\nconst timeInput = ref('')\r\nconst outPutStamp = ref<string | number>('')\r\nconst stampTypeValue = ref('1')\r\n\r\n// 时间转时间戳\r\nconst changeStamp = () => {\r\n  outPutStamp.value = stampTypeValue.value === '1' ? new Date(timeInput.value).getTime() : parseInt((new Date(timeInput.value).getTime() / 1000).toString())\r\n}\r\n\r\n// 获取当前时间\r\nconst getNow = () => {\r\n  timeInput.value = change(Date.now())\r\n}\r\n\r\n// 只能输入数字\r\nconst inputNum = (value: string | undefined | null) => {\r\n  if (value === undefined || value === null) { return }\r\n  return (value.toString())\r\n    .replace(/[^\\d.]/g, '')\r\n    .replace(/\\.{2,}/g, '.')\r\n    .replace('.', '$#$')\r\n    .replace(/\\./g, '')\r\n    .replace('$#$', '.')\r\n    .replace(/^\\./g, '')\r\n}\r\n</script>\r\n"],"names":["change","val","n","now","y","m","d","inputValue","ref","outPutValue","typeValue","changeStr","stamp","timeInput","outPutStamp","stampTypeValue","changeStamp","getNow","inputNum","value"],"mappings":"qpBA4CA,MAAAA,EAAAC,GAAA,CACE,MAAAC,EAAA,IAAA,KAAAD,CAAA,EACAE,EAAA,IAAA,KAAAD,CAAA,EACAE,EAAAD,EAAA,cACAE,EAAAF,EAAA,SAAA,EAAA,EACAG,EAAAH,EAAA,UACA,OAAAC,EAAA,KAAAC,EAAA,GAAA,IAAAA,EAAAA,GAAA,KAAAC,EAAA,GAAA,IAAAA,EAAAA,GAAA,IAAAH,EAAA,aAAA,EAAA,MAAA,EAAA,CAAA,CAA4G,EAE9GI,EAAAC,EAAA,IAAA,EACAC,EAAAD,EAAA,EAAA,EACAE,EAAAF,EAAA,GAAA,EACAG,EAAA,IAAA,CACE,IAAAC,EAAA,GAEA,GADAF,EAAA,QAAA,IAAAE,EAAAL,EAAA,MAAAK,EAAAL,EAAA,MAAA,OACAK,GAAA,YAAAA,EAAA,UAAAA,GAAA,YAAAA,EAAA,QAAA,GAAA,CACEH,EAAA,MAAA,yDACA,MAAA,CAEFA,EAAA,MAAAT,EAAA,SAAAY,CAAA,CAAA,CAA0C,EAG5CC,EAAAL,EAAA,EAAA,EACAM,EAAAN,EAAA,EAAA,EACAO,EAAAP,EAAA,GAAA,EAGAQ,EAAA,IAAA,CACEF,EAAA,MAAAC,EAAA,QAAA,IAAA,IAAA,KAAAF,EAAA,KAAA,EAAA,QAAA,EAAA,UAAA,IAAA,KAAAA,EAAA,KAAA,EAAA,UAAA,KAAA,SAAA,CAAA,CAAyJ,EAI3JI,EAAA,IAAA,CACEJ,EAAA,MAAAb,EAAA,KAAA,IAAA,CAAA,CAAmC,EAIrCkB,EAAAC,GAAA,CACE,GAAAA,GAAA,KACA,OAAAA,EAAA,WAAA,QAAA,UAAA,EAAA,EAAA,QAAA,UAAA,GAAA,EAAA,QAAA,IAAA,KAAA,EAAA,QAAA,MAAA,EAAA,EAAA,QAAA,MAAA,GAAA,EAAA,QAAA,OAAA,EAAA,CAMqB"}