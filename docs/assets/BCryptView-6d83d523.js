import{d as e,a as l,b as a,i as s,j as u,h as t,g as r}from"./element-plus-a17310d1.js";import{b as o}from"./bcryptjs-638ef99f.js";import{u as p,b as n}from"./vue-router-c701b404.js";import{a as c}from"./clipboard-b18db9e2.js";import{k as i,w as d,o as m,c as v,A as f,y,K as b,F as j,a as h}from"./vue-e1fd4543.js";import{r as _,u as g}from"./@vue-67bd3c9a.js";import"./@vueuse-cc804279.js";import"./@popperjs-b78c3215.js";import"./@element-plus-893dda61.js";import"./lodash-es-7b2175ad.js";import"./memoize-one-63ab667a.js";import"./@ctrl-a951068a.js";import"./vue-clipboard3-12a5795a.js";import"./clipboard-b5f6a829.js";const V=h("h1",null,"BCrypt 加密",-1),x=h("br",null,null,-1),k=h("br",null,null,-1),w=i({__name:"BCryptView",setup(i){const h=p(),w=n(),S=_(10),C=_("my message"),D=_(""),N=_("");d((()=>N.value),((e,l)=>{const a=JSON.parse(JSON.stringify(h.query));a.prefix=e;const s=_(a);w.replace({query:s.value})}));const O=_("{bcrypt}"),q=()=>{const l=o.genSaltSync(Number(S.value)),a=o.hashSync(C.value,l);D.value=""===N.value?a:N.value+a,e({message:"加密完成",type:"success"})},J=()=>{let l;l=D.value.startsWith(O.value)?o.compareSync(C.value,D.value.substring(O.value.length)):o.compareSync(C.value,D.value),l?e({message:"密码与原文匹配",type:"success"}):e.error("密码与原文不匹配")};return w.isReady().then((()=>{const e=JSON.parse(JSON.stringify(h.query)).prefix;void 0!==e&&(N.value=e);-1===_(["",O.value]).value.indexOf(N.value)&&(N.value="")})),(e,o)=>{const p=l,n=a,i=s,d=u,h=t,_=r;return m(),v(j,null,[f(n,{justify:"center"},{default:y((()=>[f(p,{span:22,class:"text-center"},{default:y((()=>[V])),_:1})])),_:1}),x,f(n,{class:"button-row",justify:"center",gutter:20},{default:y((()=>[f(p,{span:11},{default:y((()=>[f(_,{modelValue:S.value,"onUpdate:modelValue":o[1]||(o[1]=e=>S.value=e),type:"number",placeholder:"加盐"},{prepend:y((()=>[f(d,{modelValue:N.value,"onUpdate:modelValue":o[0]||(o[0]=e=>N.value=e),placeholder:"选择前缀",class:"w-100px"},{default:y((()=>[f(i,{value:"",label:"无"}),f(i,{value:O.value,label:O.value},null,8,["value","label"])])),_:1},8,["modelValue"])])),append:y((()=>[f(h,{onClick:q,class:"w-100px"},{default:y((()=>[b("加密")])),_:1})])),_:1},8,["modelValue"])])),_:1}),f(p,{span:11},{default:y((()=>[f(h,{onClick:J,class:"w-100%"},{default:y((()=>[b("比较")])),_:1})])),_:1})])),_:1}),k,f(n,{class:"text-row",justify:"center",gutter:20},{default:y((()=>[f(p,{span:11},{default:y((()=>[f(_,{modelValue:C.value,"onUpdate:modelValue":o[2]||(o[2]=e=>C.value=e),class:"originalText-input",placeholder:"原文",type:"textarea",onDblclick:g(c),rows:"5","data-dblclick":"原文已复制到剪贴板"},null,8,["modelValue","onDblclick"])])),_:1}),f(p,{span:11},{default:y((()=>[f(_,{modelValue:D.value,"onUpdate:modelValue":o[3]||(o[3]=e=>D.value=e),class:"ciphertext-input",placeholder:"密文",type:"textarea",onDblclick:g(c),rows:"5","data-dblclick":"密文已复制到剪贴板"},null,8,["modelValue","onDblclick"])])),_:1})])),_:1})],64)}}});export{w as default};
