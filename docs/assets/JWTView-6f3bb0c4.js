import{d as e,a as l,b as a,h as t,i as u,j as s,g as d,m as o}from"./element-plus-a17310d1.js";import{a as c}from"./clipboard-b18db9e2.js";import{d as n,c as r}from"./pinia-2a9439bb.js";import{r as i,u as p}from"./@vue-67bd3c9a.js";import{k as m,w as v,o as b,c as V,A as f,y as k,K as y,F as I,Y as X,Z as h,a as j}from"./vue-e1fd4543.js";import{_ as J}from"./index-0e558578.js";import"./@vueuse-cc804279.js";import"./@popperjs-b78c3215.js";import"./@element-plus-893dda61.js";import"./lodash-es-7b2175ad.js";import"./memoize-one-63ab667a.js";import"./@ctrl-a951068a.js";import"./vue-clipboard3-12a5795a.js";import"./clipboard-b5f6a829.js";import"./bcryptjs-638ef99f.js";import"./vue-router-c701b404.js";const N=n("jwt",{state:()=>({token:i("eyJhbGciOiJSUzI1NiJ9.eyJVU0VSU19JRCI6MSwic3ViIjoieHV4aWFvd2VpIiwiYXVkIjoieHV4aWFvd2VpX2NsaWVudF9pZCIsIm5iZiI6MTY1OTY3ODIwNywic2NvcGUiOlsic25zYXBpX2Jhc2UiXSwiaXNzIjoiaHR0cDpcL1wvMTcyLjE2LjU2LjIwNzoxNDAxIiwiZXhwIjoxNjU5NzIxNDA3LCJpYXQiOjE2NTk2NzgyMDcsImF1dGhvcml0aWVzIjpbIm1hbmFnZV91c2VyX2RlbGV0ZSIsInNuc2FwaV9iYXNlIiwidXNlcl9vYXV0aDJfdXNlckF1dGhlbnRpY2F0aW9uIiwidXNlcl9kZXRhaWxzIiwibWFuYWdlX2NsaWVudF9lZGl0IiwidXNlcl9vYXV0aDJfb2F1dGgyUmVxdWVzdCIsImF1ZGl0X2F1dGhvcml6YXRpb25fZGVsZXRlIiwiYXVkaXRfYXV0aG9yaXphdGlvbl9jb25zZW50X2RlbGV0ZSIsImF1ZGl0X2F1dGhvcml6YXRpb25fY29uc2VudF9yZWFkIiwibWFuYWdlX3VzZXJfYWRkIiwibWFuYWdlX3VzZXJfcmVhZCIsInVzZXJuYW1lX3Rva2VuX2RlbGV0ZSIsImNsaWVudElkX3Rva2VuX2RlbGV0ZSIsIm1hbmFnZV91c2VyX2F1dGhvcml0eSIsInVzZXJfaW5mbyIsImF1ZGl0X2F1dGhvcml6YXRpb25fcmVhZCIsIm1hbmFnZV9jbGllbnRfYWRkIiwibWFuYWdlX2NsaWVudF9kZWxldGUiLCJtYW5hZ2VfY2xpZW50X3JlYWQiLCJ1c2VyX2F1dGhvcml0aWVzIiwibWFuYWdlX3VzZXJfZWRpdCJdLCJ1c2VybmFtZSI6Inh1eGlhb3dlaSJ9.Bb82mwwy8Df9i_0vjs_YN9Se_uc8DYfkWDOjrtsPGWUw3JtcGro9JOUD_8O5xEz4PaCT9cCY4LJEUMzSIH3sGMYcUdtsma6qfNXHxgdguqgbCwkWUYaVGTKBuxcZhByX2K1r5X2qmD05zfdPwBMt7qsCxE83u6Xm2GO5j39BlDwuVHJ9-i1BYMBG6vNH-mcPkdG4EV9DNjHmkv5zW2J7cwIb8sT-8QXUv246nT8pOru8ZvUCa0_rAj6RXo0mJWkkR4TFBBwWs22tMfFUbeQ-hmCY8hn07R6bEI8JrQG8PENORKwmcu8_I2QzMLUvR3lmI8mvKPjmqH4Mek9bOOFh3Q"),format:i(!0)}),getters:{},actions:{setToken(e){this.token=e},setFormat(e){this.format=e}}})(r());N.$subscribe(((e,l)=>{localStorage.setItem(N.$id,JSON.stringify({...l}))}));const w=localStorage.getItem(N.$id);w&&(N.$state=JSON.parse(w));const W=e=>(X("data-v-6417138a"),e=e(),h(),e),_=W((()=>j("h1",null,"JWT",-1))),D=W((()=>j("br",null,null,-1))),F=W((()=>j("br",null,null,-1))),S=W((()=>j("br",null,null,-1))),Y=W((()=>j("span",null,"加密方式 alg",-1))),Z=W((()=>j("span",null,"签发者 issuer、iss",-1))),G=W((()=>j("br",null,null,-1))),O=W((()=>j("span",null,"签发时间 issuedAt、iat",-1))),U=W((()=>j("span",null,"过期时间 expiration、exp",-1))),g=W((()=>j("br",null,null,-1))),x=W((()=>j("span",null,"观众 audience、aud",-1))),R=W((()=>j("span",null,"主题 subject、sub",-1))),z=W((()=>j("br",null,null,-1))),C=J(m({__name:"JWTView",setup(n){const r=i(N.token);v((()=>r.value),((e,l)=>{N.setToken(e)}));const m=i(""),X=i(""),h=i(""),j=i(""),J=i(""),w=i(""),W=i(""),C=i("");v((()=>W.value),((e,l)=>{"number"==typeof e&&(C.value=new Date(1e3*e).toLocaleString())}));const T=i(""),L=i("");v((()=>T.value),((e,l)=>{"number"==typeof e&&(L.value=new Date(1e3*e).toLocaleString())}));const M=i(""),B=i(""),E=i(N.format);v((()=>E.value),((e,l)=>{N.setFormat(e),A(e)}));const H=()=>{var l;if(""===r.value)return void e.error("token不能为空");const a=null==(l=r.value)?void 0:l.split(".");if((null==a?void 0:a.length)>=1)try{m.value=window.atob(a[0])}catch(t){X.value="",e.error("解密header时异常")}else e.error("未找到header");if((null==a?void 0:a.length)>=2)try{h.value=window.atob(a[1])}catch(t){j.value="",e.error("解密payload时异常")}else e.error("未找到payload");A(E.value)},A=l=>{if(l){try{X.value=JSON.stringify(JSON.parse(m.value),null,"\t")}catch(a){e.error("格式化header异常")}try{j.value=JSON.stringify(JSON.parse(h.value),null,"\t")}catch(a){e.error("格式化payload异常")}}else X.value=m.value,j.value=h.value;try{J.value=JSON.parse(m.value).alg}catch(a){}try{w.value=JSON.parse(h.value).issuer||JSON.parse(h.value).iss}catch(a){}try{W.value=JSON.parse(h.value).issuedAt||JSON.parse(h.value).iat}catch(a){}try{T.value=JSON.parse(h.value).expiration||JSON.parse(h.value).exp}catch(a){}try{M.value=JSON.parse(h.value).audience||JSON.parse(h.value).aud}catch(a){}try{B.value=JSON.parse(h.value).subject||JSON.parse(h.value).sub}catch(a){}};return(e,n)=>{const i=l,m=a,v=t,h=u,N=s,A=d,Q=o;return b(),V(I,null,[f(m,{justify:"center"},{default:k((()=>[f(i,{span:22,class:"text-center"},{default:k((()=>[_])),_:1})])),_:1}),D,f(m,{justify:"center",gutter:20},{default:k((()=>[f(i,{span:22},{default:k((()=>[f(v,{onClick:H,class:"decode-button"},{default:k((()=>[y("解码")])),_:1}),f(N,{modelValue:E.value,"onUpdate:modelValue":n[0]||(n[0]=e=>E.value=e),placeholder:"是否格式化",class:"decode-select w-100px"},{default:k((()=>[f(h,{label:"格式化",value:!0}),f(h,{label:"不格式化",value:!1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),F,f(m,{justify:"center",gutter:20},{default:k((()=>[f(i,{span:22},{default:k((()=>[f(A,{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=e=>r.value=e),class:"token-input",placeholder:"token",type:"textarea",onDblclick:p(c),rows:"8","data-dblclick":"token已复制到剪贴板"},null,8,["modelValue","onDblclick"])])),_:1})])),_:1}),S,f(m,{justify:"center",gutter:20},{default:k((()=>[f(i,{span:11},{default:k((()=>[f(A,{modelValue:J.value,"onUpdate:modelValue":n[2]||(n[2]=e=>J.value=e),onDblclick:p(c),readonly:"","data-dblclick":"加密方式 alg 已复制到剪贴板"},{prepend:k((()=>[Y])),_:1},8,["modelValue","onDblclick"])])),_:1}),f(i,{span:11},{default:k((()=>[f(A,{modelValue:w.value,"onUpdate:modelValue":n[3]||(n[3]=e=>w.value=e),onDblclick:p(c),readonly:"","data-dblclick":"签发者 issuer、iss 已复制到剪贴板"},{prepend:k((()=>[Z])),_:1},8,["modelValue","onDblclick"])])),_:1})])),_:1}),G,f(m,{justify:"center",gutter:20},{default:k((()=>[f(i,{span:11},{default:k((()=>[f(Q,{class:"box-item",effect:"dark",content:C.value,placement:"top-end",disabled:""===W.value},{default:k((()=>[f(A,{modelValue:W.value,"onUpdate:modelValue":n[4]||(n[4]=e=>W.value=e),onDblclick:p(c),readonly:"","data-dblclick":"签发时间 issuedAt、iat 已复制到剪贴板"},{prepend:k((()=>[O])),_:1},8,["modelValue","onDblclick"])])),_:1},8,["content","disabled"])])),_:1}),f(i,{span:11},{default:k((()=>[f(Q,{class:"box-item",effect:"dark",content:L.value,placement:"top-end",disabled:""===T.value},{default:k((()=>[f(A,{modelValue:T.value,"onUpdate:modelValue":n[5]||(n[5]=e=>T.value=e),onDblclick:p(c),readonly:"","data-dblclick":"过期时间 expiration、exp 已复制到剪贴板"},{prepend:k((()=>[U])),_:1},8,["modelValue","onDblclick"])])),_:1},8,["content","disabled"])])),_:1})])),_:1}),g,f(m,{justify:"center",gutter:20},{default:k((()=>[f(i,{span:11},{default:k((()=>[f(A,{modelValue:M.value,"onUpdate:modelValue":n[6]||(n[6]=e=>M.value=e),onDblclick:p(c),readonly:"","data-dblclick":"观众 audience、aud 已复制到剪贴板"},{prepend:k((()=>[x])),_:1},8,["modelValue","onDblclick"])])),_:1}),f(i,{span:11},{default:k((()=>[f(A,{modelValue:B.value,"onUpdate:modelValue":n[7]||(n[7]=e=>B.value=e),onDblclick:p(c),readonly:"","data-dblclick":"主题 subject、sub 已复制到剪贴板"},{prepend:k((()=>[R])),_:1},8,["modelValue","onDblclick"])])),_:1})])),_:1}),z,f(m,{justify:"center",gutter:20},{default:k((()=>[f(i,{span:11},{default:k((()=>[f(A,{modelValue:X.value,"onUpdate:modelValue":n[8]||(n[8]=e=>X.value=e),class:"token-input",placeholder:"header",type:"textarea",onDblclick:p(c),rows:"10","data-dblclick":"header已复制到剪贴板"},null,8,["modelValue","onDblclick"])])),_:1}),f(i,{span:11},{default:k((()=>[f(A,{modelValue:j.value,"onUpdate:modelValue":n[9]||(n[9]=e=>j.value=e),class:"token-input",placeholder:"payload",type:"textarea",onDblclick:p(c),rows:"10","data-dblclick":"payload已复制到剪贴板"},null,8,["modelValue","onDblclick"])])),_:1})])),_:1})],64)}}}),[["__scopeId","data-v-6417138a"]]);export{C as default};
