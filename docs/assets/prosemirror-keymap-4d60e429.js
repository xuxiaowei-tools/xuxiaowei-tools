import{k as t,b as e}from"./w3c-keyname-d930a9a6.js";import{a as r}from"./prosemirror-state-5b4308dd.js";const i="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function n(t){let e,r,n,a,o=t.split(/-(?!$)/),l=o[o.length-1];"Space"==l&&(l=" ");for(let s=0;s<o.length-1;s++){let t=o[s];if(/^(cmd|meta|m)$/i.test(t))a=!0;else if(/^a(lt)?$/i.test(t))e=!0;else if(/^(c|ctrl|control)$/i.test(t))r=!0;else if(/^s(hift)?$/i.test(t))n=!0;else{if(!/^mod$/i.test(t))throw new Error("Unrecognized modifier name: "+t);i?a=!0:r=!0}}return e&&(l="Alt-"+l),r&&(l="Ctrl-"+l),a&&(l="Meta-"+l),n&&(l="Shift-"+l),l}function a(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==r&&e.shiftKey&&(t="Shift-"+t),t}function o(t){return new r({props:{handleKeyDown:l(t)}})}function l(r){let i=function(t){let e=Object.create(null);for(let r in t)e[n(r)]=t[r];return e}(r);return function(r,n){let o,l=t(n),s=1==l.length&&" "!=l,f=i[a(l,n,!s)];if(f&&f(r.state,r.dispatch,r))return!0;if(s&&(n.shiftKey||n.altKey||n.metaKey||l.charCodeAt(0)>127)&&(o=e[n.keyCode])&&o!=l){let t=i[a(o,n,!0)];if(t&&t(r.state,r.dispatch,r))return!0}else if(s&&n.shiftKey){let t=i[a(l,n,!0)];if(t&&t(r.state,r.dispatch,r))return!0}return!1}}export{o as k};
