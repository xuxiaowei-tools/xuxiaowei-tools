import{a as rl,e as fe,E as pe,u as oe,r as O,c as y,o as wl,a6 as vl,x as S,S as K,Q as k,P as he,W as De,C as W,A as C,h as q,B as J,af as Ol,_ as ve,i as El,y as H,F as de,T as Ve,d as Ml,l as Oe,w as R,t as D,L as sl,f as Ee,n as He,p as Bl,D as ce,q as ol,R as j,H as il,a8 as Ll,aE as Tl,g as ul,M as dl,z as te,k as le,au as ml,aF as we,aG as nl,N as ue,O as Vl,U as hl,V as G,K as Dl,aH as Hl,aq as zl}from"./index.659cef6d.js";import{K as Wl,y as ql,B as al,x as bl,f as cl,L as Al,l as Kl,d as Rl,e as Nl,U as ne,E as Fl,a as jl,C as Il,g as Ql,c as Gl,b as Ul}from"./el-input.89cceb76.js";import{E as Xl}from"./index.d7259f9b.js";import{B as Yl,r as Jl,G as me,i as gl,d as yl,E as Zl,a as xl,C as _l,u as et,t as lt}from"./el-popper.3cb1f591.js";import{g as U,u as pl,i as tt}from"./focus-trap.45f06197.js";import{s as nt}from"./el-button.f54e4e4c.js";const ot=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),it=e=>Wl[e||"default"],$l=Symbol("scrollbarContextKey"),at=e=>({focus:()=>{var l,a;(a=(l=e.value)==null?void 0:l.focus)==null||a.call(l)}}),rt=rl({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),st=fe({__name:"thumb",props:rt,setup(e){const l=e,a="Thumb",s=pe($l),h=oe("scrollbar");s||ql(a,"can not inject scrollbar context");const p=O(),o=O(),v=O({}),d=O(!1);let E=!1,b=!1,L=El?document.onselectstart:null;const c=y(()=>Yl[l.vertical?"vertical":"horizontal"]),z=y(()=>Jl({size:l.size,move:l.move,bar:c.value})),i=y(()=>p.value[c.value.offset]**2/s.wrapElement[c.value.scrollSize]/l.ratio/o.value[c.value.offset]),g=m=>{var P;if(m.stopPropagation(),m.ctrlKey||[1,2].includes(m.button))return;(P=window.getSelection())==null||P.removeAllRanges(),T(m);const M=m.currentTarget;!M||(v.value[c.value.axis]=M[c.value.offset]-(m[c.value.client]-M.getBoundingClientRect()[c.value.direction]))},w=m=>{if(!o.value||!p.value||!s.wrapElement)return;const P=Math.abs(m.target.getBoundingClientRect()[c.value.direction]-m[c.value.client]),M=o.value[c.value.offset]/2,V=(P-M)*100*i.value/p.value[c.value.offset];s.wrapElement[c.value.scroll]=V*s.wrapElement[c.value.scrollSize]/100},T=m=>{m.stopImmediatePropagation(),E=!0,document.addEventListener("mousemove",B),document.addEventListener("mouseup",Q),L=document.onselectstart,document.onselectstart=()=>!1},B=m=>{if(!p.value||!o.value||E===!1)return;const P=v.value[c.value.axis];if(!P)return;const M=(p.value.getBoundingClientRect()[c.value.direction]-m[c.value.client])*-1,V=o.value[c.value.offset]-P,be=(M-V)*100*i.value/p.value[c.value.offset];s.wrapElement[c.value.scroll]=be*s.wrapElement[c.value.scrollSize]/100},Q=()=>{E=!1,v.value[c.value.axis]=0,document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",Q),I(),b&&(d.value=!1)},N=()=>{b=!1,d.value=!!l.size},u=()=>{b=!0,d.value=E};wl(()=>{I(),document.removeEventListener("mouseup",Q)});const I=()=>{document.onselectstart!==L&&(document.onselectstart=L)};return al(vl(s,"scrollbarElement"),"mousemove",N),al(vl(s,"scrollbarElement"),"mouseleave",u),(m,P)=>(S(),K(Ol,{name:q(h).b("fade"),persisted:""},{default:k(()=>[he(W("div",{ref_key:"instance",ref:p,class:C([q(h).e("bar"),q(h).is(q(c).key)]),onMousedown:w},[W("div",{ref_key:"thumb",ref:o,class:C(q(h).e("thumb")),style:J(q(z)),onMousedown:g},null,38)],34),[[De,m.always||d.value]])]),_:1},8,["name"]))}});var Sl=ve(st,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const ut=rl({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),dt=fe({__name:"bar",props:ut,setup(e,{expose:l}){const a=e,s=O(0),h=O(0);return l({handleScroll:o=>{if(o){const v=o.offsetHeight-me,d=o.offsetWidth-me;h.value=o.scrollTop*100/v*a.ratioY,s.value=o.scrollLeft*100/d*a.ratioX}}}),(o,v)=>(S(),H(Ve,null,[de(Sl,{move:s.value,ratio:o.ratioX,size:o.width,always:o.always},null,8,["move","ratio","size","always"]),de(Sl,{move:h.value,ratio:o.ratioY,size:o.height,vertical:"",always:o.always},null,8,["move","ratio","size","always"])],64))}});var ct=ve(dt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const pt=rl({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:Ml([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),ft={scroll:({scrollTop:e,scrollLeft:l})=>[e,l].every(Oe)},vt={name:"ElScrollbar"},mt=fe({...vt,props:pt,emits:ft,setup(e,{expose:l,emit:a}){const s=e,h=oe("scrollbar");let p,o;const v=O(),d=O(),E=O(),b=O("0"),L=O("0"),c=O(),z=O(1),i=O(1),g=y(()=>{const u={};return s.height&&(u.height=bl(s.height)),s.maxHeight&&(u.maxHeight=bl(s.maxHeight)),[s.wrapStyle,u]}),w=()=>{var u;d.value&&((u=c.value)==null||u.handleScroll(d.value),a("scroll",{scrollTop:d.value.scrollTop,scrollLeft:d.value.scrollLeft}))};function T(u,I){il(u)?d.value.scrollTo(u):Oe(u)&&Oe(I)&&d.value.scrollTo(u,I)}const B=u=>{!Oe(u)||(d.value.scrollTop=u)},Q=u=>{!Oe(u)||(d.value.scrollLeft=u)},N=()=>{if(!d.value)return;const u=d.value.offsetHeight-me,I=d.value.offsetWidth-me,m=u**2/d.value.scrollHeight,P=I**2/d.value.scrollWidth,M=Math.max(m,s.minSize),V=Math.max(P,s.minSize);z.value=m/(u-m)/(M/(u-M)),i.value=P/(I-P)/(V/(I-V)),L.value=M+me<u?`${M}px`:"",b.value=V+me<I?`${V}px`:""};return R(()=>s.noresize,u=>{u?(p==null||p(),o==null||o()):({stop:p}=cl(E,N),o=al("resize",N))},{immediate:!0}),R(()=>[s.maxHeight,s.height],()=>{s.native||D(()=>{var u;N(),d.value&&((u=c.value)==null||u.handleScroll(d.value))})}),sl($l,Ee({scrollbarElement:v,wrapElement:d})),He(()=>{s.native||D(()=>{N()})}),Bl(()=>N()),l({wrap$:d,update:N,scrollTo:T,setScrollTop:B,setScrollLeft:Q,handleScroll:w}),(u,I)=>(S(),H("div",{ref_key:"scrollbar$",ref:v,class:C(q(h).b())},[W("div",{ref_key:"wrap$",ref:d,class:C([u.wrapClass,q(h).e("wrap"),{[q(h).em("wrap","hidden-default")]:!u.native}]),style:J(q(g)),onScroll:w},[(S(),K(ol(u.tag),{ref_key:"resize$",ref:E,class:C([q(h).e("view"),u.viewClass]),style:J(u.viewStyle)},{default:k(()=>[ce(u.$slots,"default")]),_:3},8,["class","style"]))],38),u.native?j("v-if",!0):(S(),K(ct,{key:0,ref_key:"barRef",ref:c,height:L.value,width:b.value,always:u.always,"ratio-x":i.value,"ratio-y":z.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var ht=ve(mt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const bt=Ll(ht),kl="ElSelectGroup",We="ElSelect";function gt(e,l){const a=pe(We),s=pe(kl,{disabled:!1}),h=y(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),p=y(()=>a.props.multiple?L(a.props.modelValue,e.value):c(e.value,a.props.modelValue)),o=y(()=>{if(a.props.multiple){const g=a.props.modelValue||[];return!p.value&&g.length>=a.props.multipleLimit&&a.props.multipleLimit>0}else return!1}),v=y(()=>e.label||(h.value?"":e.value)),d=y(()=>e.value||e.label||""),E=y(()=>e.disabled||l.groupDisabled||o.value),b=ul(),L=(g=[],w)=>{if(h.value){const T=a.props.valueKey;return g&&g.some(B=>U(B,T)===U(w,T))}else return g&&g.includes(w)},c=(g,w)=>{if(h.value){const{valueKey:T}=a.props;return U(g,T)===U(w,T)}else return g===w},z=()=>{!e.disabled&&!s.disabled&&(a.hoverIndex=a.optionsArray.indexOf(b.proxy))};R(()=>v.value,()=>{!e.created&&!a.props.remote&&a.setSelected()}),R(()=>e.value,(g,w)=>{const{remote:T,valueKey:B}=a.props;if(!e.created&&!T){if(B&&typeof g=="object"&&typeof w=="object"&&g[B]===w[B])return;a.setSelected()}}),R(()=>s.disabled,()=>{l.groupDisabled=s.disabled},{immediate:!0});const{queryChange:i}=Tl(a);return R(i,g=>{const{query:w}=q(g),T=new RegExp(ot(w),"i");l.visible=T.test(v.value)||e.created,l.visible||a.filteredOptionsCount--}),{select:a,currentLabel:v,currentValue:d,itemSelected:p,isDisabled:E,hoverItem:z}}const yt=fe({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const l=oe("select"),a=Ee({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:s,itemSelected:h,isDisabled:p,select:o,hoverItem:v}=gt(e,a),{visible:d,hover:E}=dl(a),b=ul().proxy,L=b.value;o.onOptionCreate(b),wl(()=>{const{selected:z}=o,g=(o.props.multiple?z:[z]).some(w=>w.value===b.value);D(()=>{o.cachedOptions.get(L)===b&&!g&&o.cachedOptions.delete(L)}),o.onOptionDestroy(L,b)});function c(){e.disabled!==!0&&a.groupDisabled!==!0&&o.handleOptionSelect(b,!0)}return{ns:l,currentLabel:s,itemSelected:h,isDisabled:p,select:o,hoverItem:v,visible:d,hover:E,selectOptionClick:c,states:a}}});function St(e,l,a,s,h,p){return he((S(),H("li",{class:C([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:l[0]||(l[0]=(...o)=>e.hoverItem&&e.hoverItem(...o)),onClick:l[1]||(l[1]=le((...o)=>e.selectOptionClick&&e.selectOptionClick(...o),["stop"]))},[ce(e.$slots,"default",{},()=>[W("span",null,te(e.currentLabel),1)])],34)),[[De,e.visible]])}var fl=ve(yt,[["render",St],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const Ct=fe({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=pe(We),l=oe("select"),a=y(()=>e.props.popperClass),s=y(()=>e.props.multiple),h=y(()=>e.props.fitInputWidth),p=O("");function o(){var v;p.value=`${(v=e.selectWrapper)==null?void 0:v.offsetWidth}px`}return He(()=>{o(),cl(e.selectWrapper,o)}),{ns:l,minWidth:p,popperClass:a,isMultiple:s,isFitInputWidth:h}}});function wt(e,l,a,s,h,p){return S(),H("div",{class:C([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:J({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[ce(e.$slots,"default")],6)}var Ot=ve(Ct,[["render",wt],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function Et(e){const{t:l}=pl();return Ee({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:l("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1})}const Lt=(e,l,a)=>{const{t:s}=pl(),h=oe("select"),p=O(null),o=O(null),v=O(null),d=O(null),E=O(null),b=O(null),L=O(-1),c=ml({query:""}),z=ml(""),i=pe(Al,{}),g=pe(Kl,{}),w=y(()=>!e.filterable||e.multiple||!l.visible),T=y(()=>e.disabled||i.disabled),B=y(()=>{const t=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!T.value&&l.inputHovering&&t}),Q=y(()=>e.remote&&e.filterable?"":e.suffixIcon),N=y(()=>h.is("reverse",Q.value&&l.visible)),u=y(()=>e.remote?300:0),I=y(()=>e.loading?e.loadingText||s("el.select.loading"):e.remote&&l.query===""&&l.options.size===0?!1:e.filterable&&l.query&&l.options.size>0&&l.filteredOptionsCount===0?e.noMatchText||s("el.select.noMatch"):l.options.size===0?e.noDataText||s("el.select.noData"):null),m=y(()=>Array.from(l.options.values())),P=y(()=>Array.from(l.cachedOptions.values())),M=y(()=>{const t=m.value.filter(n=>!n.created).some(n=>n.currentLabel===l.query);return e.filterable&&e.allowCreate&&l.query!==""&&!t}),V=Rl(),be=y(()=>["small"].includes(V.value)?"small":"default"),qe=y({get(){return l.visible&&I.value!==!1},set(t){l.visible=t}});R([()=>T.value,()=>V.value,()=>i.size],()=>{D(()=>{X()})}),R(()=>e.placeholder,t=>{l.cachedPlaceHolder=l.currentPlaceholder=t}),R(()=>e.modelValue,(t,n)=>{var r;e.multiple&&(X(),t&&t.length>0||o.value&&l.query!==""?l.currentPlaceholder="":l.currentPlaceholder=l.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(l.query="",Z(l.query))),ge(),e.filterable&&!e.multiple&&(l.inputLength=20),!gl(t,n)&&e.validateEvent&&((r=g.validate)==null||r.call(g,"change").catch(f=>Nl()))},{flush:"post",deep:!0}),R(()=>l.visible,t=>{var n,r,f;t?((r=(n=v.value)==null?void 0:n.updatePopper)==null||r.call(n),e.filterable&&(l.filteredOptionsCount=l.optionsCount,l.query=e.remote?"":l.selectedLabel,e.multiple?(f=o.value)==null||f.focus():l.selectedLabel&&(l.currentPlaceholder=`${l.selectedLabel}`,l.selectedLabel=""),Z(l.query),!e.multiple&&!e.remote&&(c.value.query="",we(c),we(z)))):(o.value&&o.value.blur(),l.query="",l.previousQuery=null,l.selectedLabel="",l.inputLength=20,l.menuVisibleOnFocus=!1,Ae(),D(()=>{o.value&&o.value.value===""&&l.selected.length===0&&(l.currentPlaceholder=l.cachedPlaceHolder)}),e.multiple||(l.selected&&(e.filterable&&e.allowCreate&&l.createdSelected&&l.createdLabel?l.selectedLabel=l.createdLabel:l.selectedLabel=l.selected.currentLabel,e.filterable&&(l.query=l.selectedLabel)),e.filterable&&(l.currentPlaceholder=l.cachedPlaceHolder))),a.emit("visible-change",t)}),R(()=>l.options.entries(),()=>{var t,n,r;if(!El)return;(n=(t=v.value)==null?void 0:t.updatePopper)==null||n.call(t),e.multiple&&X();const f=((r=E.value)==null?void 0:r.querySelectorAll("input"))||[];Array.from(f).includes(document.activeElement)||ge(),e.defaultFirstOption&&(e.filterable||e.remote)&&l.filteredOptionsCount&&Te()},{flush:"post"}),R(()=>l.hoverIndex,t=>{typeof t=="number"&&t>-1&&(L.value=m.value[t]||{}),m.value.forEach(n=>{n.hover=L.value===n})});const X=()=>{e.collapseTags&&!e.filterable||D(()=>{var t,n;if(!p.value)return;const r=p.value.$el.querySelector("input"),f=d.value,$=it(V.value||i.size);r.style.height=`${(l.selected.length===0?$:Math.max(f?f.clientHeight+(f.clientHeight>$?6:0):0,$))-2}px`,l.tagInMultiLine=Number.parseFloat(r.style.height)>=$,l.visible&&I.value!==!1&&((n=(t=v.value)==null?void 0:t.updatePopper)==null||n.call(t))})},Z=t=>{if(!(l.previousQuery===t||l.isOnComposition)){if(l.previousQuery===null&&(typeof e.filterMethod=="function"||typeof e.remoteMethod=="function")){l.previousQuery=t;return}l.previousQuery=t,D(()=>{var n,r;l.visible&&((r=(n=v.value)==null?void 0:n.updatePopper)==null||r.call(n))}),l.hoverIndex=-1,e.multiple&&e.filterable&&D(()=>{const n=o.value.value.length*15+20;l.inputLength=e.collapseTags?Math.min(50,n):n,Le(),X()}),e.remote&&typeof e.remoteMethod=="function"?(l.hoverIndex=-1,e.remoteMethod(t)):typeof e.filterMethod=="function"?(e.filterMethod(t),we(z)):(l.filteredOptionsCount=l.optionsCount,c.value.query=t,we(c),we(z)),e.defaultFirstOption&&(e.filterable||e.remote)&&l.filteredOptionsCount&&Te()}},Le=()=>{l.currentPlaceholder!==""&&(l.currentPlaceholder=o.value.value?"":l.cachedPlaceHolder)},Te=()=>{const t=m.value.filter(f=>f.visible&&!f.disabled&&!f.states.groupDisabled),n=t.find(f=>f.created),r=t[0];l.hoverIndex=ye(m.value,n||r)},ge=()=>{var t;if(e.multiple)l.selectedLabel="";else{const r=ze(e.modelValue);(t=r.props)!=null&&t.created?(l.createdLabel=r.props.value,l.createdSelected=!0):l.createdSelected=!1,l.selectedLabel=r.currentLabel,l.selected=r,e.filterable&&(l.query=l.selectedLabel);return}const n=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(r=>{n.push(ze(r))}),l.selected=n,D(()=>{X()})},ze=t=>{let n;const r=nl(t).toLowerCase()==="object",f=nl(t).toLowerCase()==="null",$=nl(t).toLowerCase()==="undefined";for(let Y=l.cachedOptions.size-1;Y>=0;Y--){const F=P.value[Y];if(r?U(F.value,e.valueKey)===U(t,e.valueKey):F.value===t){n={value:t,currentLabel:F.currentLabel,isDisabled:F.isDisabled};break}}if(n)return n;const _=r?t.label:!f&&!$?t:"",ee={value:t,currentLabel:_};return e.multiple&&(ee.hitState=!1),ee},Ae=()=>{setTimeout(()=>{const t=e.valueKey;e.multiple?l.selected.length>0?l.hoverIndex=Math.min.apply(null,l.selected.map(n=>m.value.findIndex(r=>U(r,t)===U(n,t)))):l.hoverIndex=-1:l.hoverIndex=m.value.findIndex(n=>re(n)===re(l.selected))},300)},Ke=()=>{var t,n;Re(),(n=(t=v.value)==null?void 0:t.updatePopper)==null||n.call(t),e.multiple&&!e.filterable&&X()},Re=()=>{var t;l.inputWidth=(t=p.value)==null?void 0:t.$el.getBoundingClientRect().width},Ne=()=>{e.filterable&&l.query!==l.selectedLabel&&(l.query=l.selectedLabel,Z(l.query))},Fe=yl(()=>{Ne()},u.value),je=yl(t=>{Z(t.target.value)},u.value),ie=t=>{gl(e.modelValue,t)||a.emit(Il,t)},Qe=t=>{if(t.target.value.length<=0&&!Se()){const n=e.modelValue.slice();n.pop(),a.emit(ne,n),ie(n)}t.target.value.length===1&&e.modelValue.length===0&&(l.currentPlaceholder=l.cachedPlaceHolder)},Ge=(t,n)=>{const r=l.selected.indexOf(n);if(r>-1&&!T.value){const f=e.modelValue.slice();f.splice(r,1),a.emit(ne,f),ie(f),a.emit("remove-tag",n.value)}t.stopPropagation()},ae=t=>{t.stopPropagation();const n=e.multiple?[]:"";if(typeof n!="string")for(const r of l.selected)r.isDisabled&&n.push(r.value);a.emit(ne,n),ie(n),l.visible=!1,a.emit("clear")},Ie=(t,n)=>{var r;if(e.multiple){const f=(e.modelValue||[]).slice(),$=ye(f,t.value);$>-1?f.splice($,1):(e.multipleLimit<=0||f.length<e.multipleLimit)&&f.push(t.value),a.emit(ne,f),ie(f),t.created&&(l.query="",Z(""),l.inputLength=20),e.filterable&&((r=o.value)==null||r.focus())}else a.emit(ne,t.value),ie(t.value),l.visible=!1;l.isSilentBlur=n,Ue(),!l.visible&&D(()=>{x(t)})},ye=(t=[],n)=>{if(!il(n))return t.indexOf(n);const r=e.valueKey;let f=-1;return t.some(($,_)=>U($,r)===U(n,r)?(f=_,!0):!1),f},Ue=()=>{l.softFocus=!0;const t=o.value||p.value;t&&(t==null||t.focus())},x=t=>{var n,r,f,$,_;const ee=Array.isArray(t)?t[0]:t;let Y=null;if(ee!=null&&ee.value){const F=m.value.filter(A=>A.value===ee.value);F.length>0&&(Y=F[0].$el)}if(v.value&&Y){const F=($=(f=(r=(n=v.value)==null?void 0:n.popperRef)==null?void 0:r.contentRef)==null?void 0:f.querySelector)==null?void 0:$.call(f,`.${h.be("dropdown","wrap")}`);F&&nt(F,Y)}(_=b.value)==null||_.handleScroll()},Xe=t=>{l.optionsCount++,l.filteredOptionsCount++,l.options.set(t.value,t),l.cachedOptions.set(t.value,t)},Ye=(t,n)=>{l.options.get(t)===n&&(l.optionsCount--,l.filteredOptionsCount--,l.options.delete(t))},Je=t=>{t.code!==Fl.backspace&&Se(!1),l.inputLength=o.value.value.length*15+20,X()},Se=t=>{if(!Array.isArray(l.selected))return;const n=l.selected[l.selected.length-1];if(!!n)return t===!0||t===!1?(n.hitState=t,t):(n.hitState=!n.hitState,n.hitState)},Ce=t=>{const n=t.target.value;if(t.type==="compositionend")l.isOnComposition=!1,D(()=>Z(n));else{const r=n[n.length-1]||"";l.isOnComposition=!jl(r)}},$e=()=>{D(()=>x(l.selected))},Ze=t=>{l.softFocus?l.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!l.visible&&(l.menuVisibleOnFocus=!0),l.visible=!0),a.emit("focus",t))},ke=()=>{var t;l.visible=!1,(t=p.value)==null||t.blur()},xe=t=>{D(()=>{l.isSilentBlur?l.isSilentBlur=!1:a.emit("blur",t)}),l.softFocus=!1},_e=t=>{ae(t)},el=()=>{l.visible=!1},Pe=t=>{l.visible&&(t.preventDefault(),t.stopPropagation(),l.visible=!1)},Me=()=>{var t;T.value||(l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:l.visible=!l.visible,l.visible&&((t=o.value||p.value)==null||t.focus()))},ll=()=>{l.visible?m.value[l.hoverIndex]&&Ie(m.value[l.hoverIndex],void 0):Me()},re=t=>il(t.value)?U(t.value,e.valueKey):t.value,tl=y(()=>m.value.filter(t=>t.visible).every(t=>t.disabled)),Be=t=>{if(!l.visible){l.visible=!0;return}if(!(l.options.size===0||l.filteredOptionsCount===0)&&!l.isOnComposition&&!tl.value){t==="next"?(l.hoverIndex++,l.hoverIndex===l.options.size&&(l.hoverIndex=0)):t==="prev"&&(l.hoverIndex--,l.hoverIndex<0&&(l.hoverIndex=l.options.size-1));const n=m.value[l.hoverIndex];(n.disabled===!0||n.states.groupDisabled===!0||!n.visible)&&Be(t),D(()=>x(L.value))}};return{optionsArray:m,selectSize:V,handleResize:Ke,debouncedOnInputChange:Fe,debouncedQueryChange:je,deletePrevTag:Qe,deleteTag:Ge,deleteSelected:ae,handleOptionSelect:Ie,scrollToOption:x,readonly:w,resetInputHeight:X,showClose:B,iconComponent:Q,iconReverse:N,showNewOption:M,collapseTagSize:be,setSelected:ge,managePlaceholder:Le,selectDisabled:T,emptyText:I,toggleLastOptionHitState:Se,resetInputState:Je,handleComposition:Ce,onOptionCreate:Xe,onOptionDestroy:Ye,handleMenuEnter:$e,handleFocus:Ze,blur:ke,handleBlur:xe,handleClearClick:_e,handleClose:el,handleKeydownEscape:Pe,toggleMenu:Me,selectOption:ll,getValueKey:re,navigateOptions:Be,dropMenuVisible:qe,queryChange:c,groupQueryChange:z,reference:p,input:o,tooltipRef:v,tags:d,selectWrapper:E,scrollbar:b}},Cl="ElSelect",Tt=fe({name:Cl,componentName:Cl,components:{ElInput:Xl,ElSelectMenu:Ot,ElOption:fl,ElTag:Zl,ElScrollbar:bt,ElTooltip:xl,ElIcon:Ql},directives:{ClickOutside:_l},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:tt},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},teleported:et.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:Gl},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:[String,Object],default:Ul},tagType:{...lt.type,default:"info"},validateEvent:{type:Boolean,default:!0}},emits:[ne,Il,"remove-tag","clear","visible-change","focus","blur"],setup(e,l){const a=oe("select"),s=oe("input"),{t:h}=pl(),p=Et(e),{optionsArray:o,selectSize:v,readonly:d,handleResize:E,collapseTagSize:b,debouncedOnInputChange:L,debouncedQueryChange:c,deletePrevTag:z,deleteTag:i,deleteSelected:g,handleOptionSelect:w,scrollToOption:T,setSelected:B,resetInputHeight:Q,managePlaceholder:N,showClose:u,selectDisabled:I,iconComponent:m,iconReverse:P,showNewOption:M,emptyText:V,toggleLastOptionHitState:be,resetInputState:qe,handleComposition:X,onOptionCreate:Z,onOptionDestroy:Le,handleMenuEnter:Te,handleFocus:ge,blur:ze,handleBlur:Ae,handleClearClick:Ke,handleClose:Re,handleKeydownEscape:Ne,toggleMenu:Fe,selectOption:je,getValueKey:ie,navigateOptions:Qe,dropMenuVisible:Ge,reference:ae,input:Ie,tooltipRef:ye,tags:Ue,selectWrapper:x,scrollbar:Xe,queryChange:Ye,groupQueryChange:Je}=Lt(e,p,l),{focus:Se}=at(ae),{inputWidth:Ce,selected:$e,inputLength:Ze,filteredOptionsCount:ke,visible:xe,softFocus:_e,selectedLabel:el,hoverIndex:Pe,query:Me,inputHovering:ll,currentPlaceholder:re,menuVisibleOnFocus:tl,isOnComposition:Be,isSilentBlur:t,options:n,cachedOptions:r,optionsCount:f,prefixWidth:$,tagInMultiLine:_}=dl(p),ee=y(()=>{const A=[a.b()],se=q(v);return se&&A.push(a.m(se)),e.disabled&&A.push(a.m("disabled")),A}),Y=y(()=>({maxWidth:`${q(Ce)-32}px`,width:"100%"}));sl(We,Ee({props:e,options:n,optionsArray:o,cachedOptions:r,optionsCount:f,filteredOptionsCount:ke,hoverIndex:Pe,handleOptionSelect:w,onOptionCreate:Z,onOptionDestroy:Le,selectWrapper:x,selected:$e,setSelected:B,queryChange:Ye,groupQueryChange:Je})),He(()=>{p.cachedPlaceHolder=re.value=e.placeholder||h("el.select.placeholder"),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(re.value=""),cl(x,E),e.remote&&e.multiple&&Q(),D(()=>{const A=ae.value&&ae.value.$el;if(!!A&&(Ce.value=A.getBoundingClientRect().width,l.slots.prefix)){const se=A.querySelector(`.${s.e("prefix")}`);$.value=Math.max(se.getBoundingClientRect().width+5,30)}}),B()}),e.multiple&&!Array.isArray(e.modelValue)&&l.emit(ne,[]),!e.multiple&&Array.isArray(e.modelValue)&&l.emit(ne,"");const F=y(()=>{var A,se;return(se=(A=ye.value)==null?void 0:A.popperRef)==null?void 0:se.contentRef});return{tagInMultiLine:_,prefixWidth:$,selectSize:v,readonly:d,handleResize:E,collapseTagSize:b,debouncedOnInputChange:L,debouncedQueryChange:c,deletePrevTag:z,deleteTag:i,deleteSelected:g,handleOptionSelect:w,scrollToOption:T,inputWidth:Ce,selected:$e,inputLength:Ze,filteredOptionsCount:ke,visible:xe,softFocus:_e,selectedLabel:el,hoverIndex:Pe,query:Me,inputHovering:ll,currentPlaceholder:re,menuVisibleOnFocus:tl,isOnComposition:Be,isSilentBlur:t,options:n,resetInputHeight:Q,managePlaceholder:N,showClose:u,selectDisabled:I,iconComponent:m,iconReverse:P,showNewOption:M,emptyText:V,toggleLastOptionHitState:be,resetInputState:qe,handleComposition:X,handleMenuEnter:Te,handleFocus:ge,blur:ze,handleBlur:Ae,handleClearClick:Ke,handleClose:Re,handleKeydownEscape:Ne,toggleMenu:Fe,selectOption:je,getValueKey:ie,navigateOptions:Qe,dropMenuVisible:Ge,focus:Se,reference:ae,input:Ie,tooltipRef:ye,popperPaneRef:F,tags:Ue,selectWrapper:x,scrollbar:Xe,wrapperKls:ee,selectTagsStyle:Y,nsSelect:a}}}),zt={class:"select-trigger"},It=["disabled","autocomplete"],$t={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function kt(e,l,a,s,h,p){const o=ue("el-tag"),v=ue("el-tooltip"),d=ue("el-icon"),E=ue("el-input"),b=ue("el-option"),L=ue("el-scrollbar"),c=ue("el-select-menu"),z=Vl("click-outside");return he((S(),H("div",{ref:"selectWrapper",class:C(e.wrapperKls),onClick:l[22]||(l[22]=le((...i)=>e.toggleMenu&&e.toggleMenu(...i),["stop"]))},[de(v,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:"bottom-start",teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:k(()=>[W("div",zt,[e.multiple?(S(),H("div",{key:0,ref:"tags",class:C(e.nsSelect.e("tags")),style:J(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(S(),H("span",{key:0,class:C([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[de(o,{closable:!e.selectDisabled&&!e.selected[0].isDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:e.tagType,"disable-transitions":"",onClose:l[0]||(l[0]=i=>e.deleteTag(i,e.selected[0]))},{default:k(()=>[W("span",{class:C(e.nsSelect.e("tags-text")),style:J({maxWidth:e.inputWidth-123+"px"})},te(e.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),e.selected.length>1?(S(),K(o,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:k(()=>[e.collapseTagsTooltip?(S(),K(v,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:k(()=>[W("span",{class:C(e.nsSelect.e("tags-text"))},"+ "+te(e.selected.length-1),3)]),content:k(()=>[W("div",{class:C(e.nsSelect.e("collapse-tags"))},[(S(!0),H(Ve,null,hl(e.selected.slice(1),(i,g)=>(S(),H("div",{key:g,class:C(e.nsSelect.e("collapse-tag"))},[(S(),K(o,{key:e.getValueKey(i),class:"in-tooltip",closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:w=>e.deleteTag(w,i)},{default:k(()=>[W("span",{class:C(e.nsSelect.e("tags-text")),style:J({maxWidth:e.inputWidth-75+"px"})},te(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(S(),H("span",{key:1,class:C(e.nsSelect.e("tags-text"))},"+ "+te(e.selected.length-1),3))]),_:1},8,["size","type"])):j("v-if",!0)],2)):j("v-if",!0),j(" <div> "),e.collapseTags?j("v-if",!0):(S(),K(Ol,{key:1,onAfterLeave:e.resetInputHeight},{default:k(()=>[W("span",{class:C([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(S(!0),H(Ve,null,hl(e.selected,i=>(S(),K(o,{key:e.getValueKey(i),closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",onClose:g=>e.deleteTag(g,i)},{default:k(()=>[W("span",{class:C(e.nsSelect.e("tags-text")),style:J({maxWidth:e.inputWidth-75+"px"})},te(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),j(" </div> "),e.filterable?he((S(),H("input",{key:2,ref:"input","onUpdate:modelValue":l[1]||(l[1]=i=>e.query=i),type:"text",class:C([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:J({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:l[2]||(l[2]=(...i)=>e.handleFocus&&e.handleFocus(...i)),onBlur:l[3]||(l[3]=(...i)=>e.handleBlur&&e.handleBlur(...i)),onKeyup:l[4]||(l[4]=(...i)=>e.managePlaceholder&&e.managePlaceholder(...i)),onKeydown:[l[5]||(l[5]=(...i)=>e.resetInputState&&e.resetInputState(...i)),l[6]||(l[6]=G(le(i=>e.navigateOptions("next"),["prevent"]),["down"])),l[7]||(l[7]=G(le(i=>e.navigateOptions("prev"),["prevent"]),["up"])),l[8]||(l[8]=G((...i)=>e.handleKeydownEscape&&e.handleKeydownEscape(...i),["esc"])),l[9]||(l[9]=G(le((...i)=>e.selectOption&&e.selectOption(...i),["stop","prevent"]),["enter"])),l[10]||(l[10]=G((...i)=>e.deletePrevTag&&e.deletePrevTag(...i),["delete"])),l[11]||(l[11]=G(i=>e.visible=!1,["tab"]))],onCompositionstart:l[12]||(l[12]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onCompositionupdate:l[13]||(l[13]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onCompositionend:l[14]||(l[14]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onInput:l[15]||(l[15]=(...i)=>e.debouncedQueryChange&&e.debouncedQueryChange(...i))},null,46,It)),[[Dl,e.query]]):j("v-if",!0)],6)):j("v-if",!0),de(E,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":l[16]||(l[16]=i=>e.selectedLabel=i),type:"text",placeholder:e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:C([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[l[17]||(l[17]=G(le(i=>e.navigateOptions("next"),["stop","prevent"]),["down"])),l[18]||(l[18]=G(le(i=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),G(le(e.selectOption,["stop","prevent"]),["enter"]),G(e.handleKeydownEscape,["esc"]),l[19]||(l[19]=G(i=>e.visible=!1,["tab"]))],onMouseenter:l[20]||(l[20]=i=>e.inputHovering=!0),onMouseleave:l[21]||(l[21]=i=>e.inputHovering=!1)},Hl({suffix:k(()=>[e.iconComponent&&!e.showClose?(S(),K(d,{key:0,class:C([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:k(()=>[(S(),K(ol(e.iconComponent)))]),_:1},8,["class"])):j("v-if",!0),e.showClose&&e.clearIcon?(S(),K(d,{key:1,class:C([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:k(()=>[(S(),K(ol(e.clearIcon)))]),_:1},8,["class","onClick"])):j("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:k(()=>[W("div",$t,[ce(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])])]),content:k(()=>[de(c,null,{default:k(()=>[he(de(L,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:C([e.nsSelect.is("empty",!e.allowCreate&&Boolean(e.query)&&e.filteredOptionsCount===0)])},{default:k(()=>[e.showNewOption?(S(),K(b,{key:0,value:e.query,created:!0},null,8,["value"])):j("v-if",!0),ce(e.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[De,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(S(),H(Ve,{key:0},[e.$slots.empty?ce(e.$slots,"empty",{key:0}):(S(),H("p",{key:1,class:C(e.nsSelect.be("dropdown","empty"))},te(e.emptyText),3))],64)):j("v-if",!0)]),_:3})]),_:3},8,["visible","teleported","popper-class","effect","transition","persistent","onShow"])],2)),[[z,e.handleClose,e.popperPaneRef]])}var Pt=ve(Tt,[["render",kt],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const Mt=fe({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const l=oe("select"),a=O(!0),s=ul(),h=O([]);sl(kl,Ee({...dl(e)}));const p=pe(We);He(()=>{h.value=o(s.subTree)});const o=d=>{const E=[];return Array.isArray(d.children)&&d.children.forEach(b=>{var L;b.type&&b.type.name==="ElOption"&&b.component&&b.component.proxy?E.push(b.component.proxy):(L=b.children)!=null&&L.length&&E.push(...o(b))}),E},{groupQueryChange:v}=Tl(p);return R(v,()=>{a.value=h.value.some(d=>d.visible===!0)}),{visible:a,ns:l}}});function Bt(e,l,a,s,h,p){return he((S(),H("ul",{class:C(e.ns.be("group","wrap"))},[W("li",{class:C(e.ns.be("group","title"))},te(e.label),3),W("li",null,[W("ul",{class:C(e.ns.b("group"))},[ce(e.$slots,"default")],2)])],2)),[[De,e.visible]])}var Pl=ve(Mt,[["render",Bt],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const Kt=Ll(Pt,{Option:fl,OptionGroup:Pl}),Rt=zl(fl);zl(Pl);export{Rt as E,Kt as a,bt as b};
//# sourceMappingURL=el-select.53cebd3a.js.map
